<header class="bg-white shadow-1 border-round-bottom-xl sticky top-0 z-5">
    <div class="flex flex-column align-items-center justify-content-center pt-4 pb-2 cursor-pointer" routerLink="">
        <div class="flex align-items-center gap-3">
            <i class="pi pi-gift text-primary text-5xl"></i>
            <div class="flex flex-column line-height-1">
                <h1 class="m-0 text-4xl font-bold text-900 tracking-tight">CHINESE RAFFLE</h1>
                <small class="text-xs text-500 font-medium uppercase tracking-widest text-center">The Grand
                    Auction</small>
            </div>
        </div>
    </div>

    <nav class="flex align-items-center px-6 pb-3 pt-2 border-top-1 border-50 flex-wrap">

        <div class="w-full flex justify-content-center">
            <div class="flex flex-row flex-wrap gap-4 md:gap-6 justify-content-center items-center">
                <a routerLink="" routerLinkActive="isActiveRoute" [routerLinkActiveOptions]="{ exact: true }"
                    class="nav-link">Home</a>
                <a routerLink="gifts" routerLinkActive="isActiveRoute" class="nav-link">Gifts</a>
                @if(authService.isAdmin()) {
                <a routerLink="donors" routerLinkActive="isActiveRoute" class="nav-link">Donors</a>
                <a routerLink="tickets" routerLinkActive="isActiveRoute" class="nav-link">Tickets</a>
                }
                @else {
                <a (click)="openBasket()" class="nav-link cursor-pointer ">
                    <i class="pi pi-shopping-cart mr-2 text-2xl"></i>
                </a>
                }
                @if(authService.isLoggedIn()) {
                <button pButton type="button" (click)="logout()"
                    class="login-btn no-underline flex align-items-center gap-2 px-4 py-2 border-2 border-round-3xl transition-all duration-200">
                    <i class="pi pi-sign-out text-lg"></i>
                    <span class="font-bold text-lg">Logout</span>
                </button>
                }
                @else {
                <a routerLink="login" routerLinkActive="active-login-btn"
                    class="login-btn no-underline flex align-items-center gap-2 px-4 py-2 border-2 border-round-3xl transition-all duration-200">
                    <i class="pi pi-user text-lg"></i>
                    <span class="font-bold text-lg">Login</span>
                </a>
                }
            </div>
        </div>

        <p-sidebar [visible]="basketService.isSidebarVisible()"
            (visibleChange)="basketService.isSidebarVisible.set($event)" position="left" [modal]="true"
            [dismissible]="true" appendTo="body" styleClass="w-30rem custom-basket-sidebar">
            <div class="p-4">
                <h2 class="text-900 font-bold text-2xl mb-4 border-bottom-1 border-200 pb-3">
                    <i class="pi pi-shopping-cart mr-2 text-2xl"></i> My Basket
                </h2>
            </div>
            <app-basket [basketItems]="basketItems"></app-basket>
        </p-sidebar>
    </nav>
</header>
<style>
    header {
        transition: all 0.3s ease;
    }

    .nav-link {
        text-decoration: none;
        color: var(--text-color-secondary);
        font-weight: 500;
        font-size: 1.1rem;
        transition: all 0.2s ease;
        padding: 4px 0;
        position: relative;
    }

    .nav-link:hover {
        color: var(--primary-color);
    }

    .isActiveRoute {
        font-weight: 700 !important;
        color: var(--primary-color) !important;
    }

    .isActiveRoute::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 100%;
        height: 3px;
        background-color: var(--primary-color);
        border-radius: 2px;
    }

    .tracking-tight {
        letter-spacing: -1px;
    }

    .tracking-widest {
        letter-spacing: 4px;
    }

    .sticky {
        position: sticky;
        top: 0;
        width: 100%;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(8px);
    }
</style>